<div class="widget-card" (click)="hideMenu()">
  <!-- Header -->
  <div class="widget-header">
    <h3>{{ title }}</h3>

    @if (isCompactView) {
      <button class="icon-button btn-menu" (click)="toggleMenu($event)" aria-haspopup="true">
        <img src="/assets/icons/icon-menu.svg" alt="Menu" />
      </button>
    }
    @else {
      <div class="widget-actions">
        <button class="icon-button">
          <img src="/assets/icons/icon-expand.svg" alt="Expand" />
        </button>

        <button class="icon-button">
          <img src="/assets/icons/icon-expand.svg" alt="Expand" />
        </button>
        
        <button class="icon-button">
          <img src="/assets/icons/icon-expand.svg" alt="Expand" />
        </button>

        <button class="icon-button btn-menu" (click)="toggleMenu($event)" aria-haspopup="true">
          <img src="/assets/icons/icon-menu.svg" alt="Menu" />
        </button>
      </div>
    }

    <!-- Flyout Menu -->
    @if (menuOpen()) {
      <div class="flyout-menu" role="menu" (click)="toggleMenu($event)">
        <button role="menuitem">Expand</button>
        <button role="menuitem">Duplicate</button>
        <button role="menuitem">Share</button>
      </div>
    }
  </div>

  <!-- Body -->
  <div class="widget-body">
    <ng-content></ng-content>
  </div>

  <!-- Footer -->
  @if (showFooter) {
    <div class="widget-footer">
      <span class="page-number">2/14</span>

      <div class="paginate-actions">
        <button class="nav-icon-btn">
          <img src="/assets/icons/icon-arrow-left.svg" alt="Navigate Left" />
        </button>

        <button class="nav-icon-btn btn-right">
          <img src="/assets/icons/icon-arrow-right.svg" alt="Navigate Right" />
        </button>
      </div>
    </div>
  }
  @else {
    <!-- Optional spacing if footer is not shown -->
    <div class="footer-spacer"></div>
  }
</div>